{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wp-extend/./src/index.js"],"sourcesContent":["const { registerBlockType } = wp.blocks;\nconst { InspectorControls } = wp.blockEditor || wp.editor;\nconst { PanelBody, TextControl, ToggleControl, RangeControl, SelectControl, TextareaControl, ColorPicker, Button } = wp.components;\nconst { useEffect, useState } = wp.element;\nconst { apiFetch } = wp;\nconst { RichText } = wp.blockEditor;\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\n\n\nif (typeof wp !== 'undefined' && wp.blocks && wp.blockEditor && wp.components && wp.element && typeof ewp_blocks !== 'undefined') {\n  Object.keys(ewp_blocks).forEach((key) => {\n    const block = ewp_blocks[key];\n    const namespace = `${block.namespace}/${block.name}`;\n    console.log('Registering block:', namespace);\n    console.log('Block attributes:', block.attributes);\n\n    registerBlockType(namespace, {\n      title: block.title,\n      icon: block.icon,\n      category: block.category,\n      attributes: {\n        ...block.attributes,\n        isValid: { type: 'boolean', default: true }, // Add validation as an attribute\n      },\n      edit: function EditBlock(props) {\n        const { attributes, setAttributes } = props;\n\n        // Initialize inputValues with default or initial values from block.attributes\n        const initialValues = Object.keys(block.attributes).reduce((acc, attrKey) => {\n          const attribute = block.attributes[attrKey];\n          acc[attrKey] = attributes[attrKey] || attribute.default || '';\n          return acc;\n        }, {});\n\n        const [content, setContent] = useState('');\n        const [inputValues, setInputValues] = useState(initialValues);\n        const [errorMessages, setErrorMessages] = useState({});  // Track errors for this block instance\n        const [imageDataCache, setImageDataCache] = useState({});  // Cache for gallery image data\n\n        const handleInputChange = (identifier, newValue) => {\n          // For select controls, we're now receiving the direct value (not an object)\n          // because we transformed the options format to use value/label pairs\n          const attributeData = block.attributes[identifier];\n          \n          setInputValues({\n            ...inputValues,\n            [identifier]: newValue, // Store the value in UI state\n          });\n          \n          // Save the value directly to block attributes\n          setAttributes({ [identifier]: newValue });\n\n          // Validate field upon change\n          validateField(identifier, newValue);\n        };\n\n        const validateField = (identifier, value) => {\n          if (block.attributes[identifier]?.required && !value) {\n            setErrorMessages((prevErrors) => ({\n              ...prevErrors,\n              [identifier]: `${block.attributes[identifier].label || identifier} is required.`\n            }));\n            setAttributes({ isValid: false }); // Mark block as invalid\n          } else {\n            // Clear the error for this field if it's valid\n            setErrorMessages((prevErrors) => {\n              const { [identifier]: _, ...rest } = prevErrors;  // Remove the error for this field\n              return rest;\n            });\n            setAttributes({ isValid: true }); // Mark block as valid\n          }\n        };\n\n        // Helper function to fetch image data for gallery fields\n        const fetchImageData = async (imageIds) => {\n          const newImageData = {};\n          \n          for (const imageId of imageIds) {\n            if (!imageDataCache[imageId]) {\n              try {\n                const response = await apiFetch({\n                  path: `/wp/v2/media/${imageId}`\n                });\n                newImageData[imageId] = {\n                  url: response.media_details?.sizes?.thumbnail?.source_url || response.source_url,\n                  alt: response.alt_text || `Image ${imageId}`\n                };\n              } catch (error) {\n                console.warn(`Failed to fetch image data for ID ${imageId}:`, error);\n                newImageData[imageId] = {\n                  url: '',\n                  alt: `Image ${imageId}`\n                };\n              }\n            }\n          }\n          \n          if (Object.keys(newImageData).length > 0) {\n            setImageDataCache(prev => ({ ...prev, ...newImageData }));\n          }\n        };\n\n        useEffect(() => {\n          // Fetch and set content logic\n          const queryParams = new URLSearchParams(inputValues).toString();\n          apiFetch({ path: `${block.namespace}/${block.name}/preview?${queryParams}` }).then((html) => {\n            setContent(html);\n            var data = { response: html, block: block };\n            const event = new CustomEvent(\"ewp_dynamic_block_on_change\", { detail: data });\n            document.dispatchEvent(event);\n          });\n        }, [JSON.stringify(inputValues)]);\n\n        const getNumberSetting = (attributeData, settingKey, defaultValue) => {\n          if (!attributeData || typeof attributeData !== 'object') {\n            return defaultValue;\n          }\n\n          const directValue = attributeData[settingKey];\n          const nestedValue = attributeData.attributes && attributeData.attributes[settingKey];\n          const rawValue = (directValue ?? nestedValue);\n\n          if (rawValue === '' || rawValue === null || typeof rawValue === 'undefined') {\n            return defaultValue;\n          }\n\n          const parsed = Number(rawValue);\n          return Number.isFinite(parsed) ? parsed : defaultValue;\n        };\n\n        // Render inputs for each attribute\n        const renderInputs = () => {\n          return Object.entries(block.attributes).map(([key, data]) => {\n            const label = data.required ? `${data.label} *` : data.label;\n\n            // Explanation text with the correct positioning\n            const explanation = data.explanation ? wp.element.createElement(\n              'small',\n              {\n                style: {\n                  display: 'block',\n                  marginTop: '0px', // No margin at the top\n                  marginBottom: '10px', // Margin before the input\n                  letterSpacing: 'normal', // Normal letter spacing\n                  color: '#555',\n                  lineHeight: '1.5', // Optional: makes text more readable\n                },\n              },\n              data.explanation\n            ) : null;\n\n            // Switch based on render_type and input type\n            switch (data.render_type) {\n              case 'color':\n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation} {/* Explanation text between the label and input */}\n                    <ColorPicker\n                      color={props.attributes[key] || ''}\n                      onChangeComplete={(value) => handleInputChange(key, value.hex)}\n                      disableAlpha\n                    />\n                  </div>\n                );\n              case 'textarea':\n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation} {/* Explanation text between the label and input */}\n                    {data.wp_editor ? (\n                      <RichText\n                        tagName=\"p\"\n                        value={props.attributes[key] || ''}\n                        onChange={(value) => handleInputChange(key, value)}\n                        placeholder={data.placeholder || ''}\n                        style={{\n                          border: '1px solid #ccd0d4',\n                          padding: '10px',\n                          borderRadius: '4px',\n                          backgroundColor: '#fff',\n                          minHeight: '150px',\n                        }}\n                      />\n                    ) : (\n                        <TextareaControl\n                          value={props.attributes[key] || ''}\n                          onChange={(value) => handleInputChange(key, value)}\n                          style={{\n                          border: '1px solid #ccd0d4',\n                          padding: '10px',\n                          borderRadius: '4px',\n                          backgroundColor: '#fff',\n                          minHeight: '150px',\n                        }}\n                      />\n                    )}\n                  </div>\n                );\n              case 'boolean':\n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation} {/* Explanation text between the label and input */}\n                    <ToggleControl\n                      checked={!!props.attributes[key]}\n                      onChange={(value) => handleInputChange(key, value)}\n                    />\n                  </div>\n                );\n              case 'string':\n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation} {/* Explanation text between the label and input */}\n                    <TextControl\n                      value={props.attributes[key] || ''}\n                      onChange={(value) => handleInputChange(key, value)}\n                    />\n                  </div>\n                );\n              case 'number':\n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation} {/* Explanation text between the label and input */}\n                    <RangeControl\n                      value={props.attributes[key] ?? 0}\n                      onChange={(value) => handleInputChange(key, value)}\n                      min={getNumberSetting(data, 'min', 0)}\n                      max={getNumberSetting(data, 'max', 100)}\n                      step={getNumberSetting(data, 'step', 1)}\n                    />\n                  </div>\n                );\n              case 'select':\n                // Transform options to the format expected by WordPress SelectControl\n                const selectOptions = Array.isArray(data.options) ? data.options.map(opt => ({\n                  value: opt.option,\n                  label: opt.label\n                })) : [];\n                \n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation} {/* Explanation text between the label and input */}\n                    <SelectControl\n                      value={props.attributes[key] || ''}\n                      options={selectOptions}\n                      onChange={(value) => handleInputChange(key, value)}\n                    />\n                  </div>\n                );\n              case 'gallery':\n                const galleryImages = props.attributes[key] || [];\n                const imageIds = Array.isArray(galleryImages) ? galleryImages : [];\n                \n                // Fetch image data when component mounts or imageIds change\n                useEffect(() => {\n                  if (imageIds.length > 0) {\n                    fetchImageData(imageIds);\n                  }\n                }, [imageIds.join(',')]);\n                \n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation}\n                    \n                    <MediaUploadCheck>\n                      <MediaUpload\n                        onSelect={(media) => {\n                          const newImageIds = media.map(item => item.id);\n                          handleInputChange(key, newImageIds);\n                        }}\n                        allowedTypes={['image']}\n                        multiple={true}\n                        gallery={true}\n                        value={imageIds}\n                        render={({ open }) => (\n                          <div>\n                            {imageIds.length > 0 && (\n                              <div style={{ \n                                display: 'grid', \n                                gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))', \n                                gap: '8px',\n                                marginBottom: '15px'\n                              }}>\n                                {imageIds.map((imageId, index) => {\n                                  const imgData = imageDataCache[imageId];\n                                  return (\n                                    <div key={imageId} style={{ \n                                      position: 'relative',\n                                      width: '80px',\n                                      height: '80px'\n                                    }}>\n                                      {imgData?.url ? (\n                                        <img \n                                          src={imgData.url}\n                                          alt={imgData.alt}\n                                          style={{ \n                                            width: '100%', \n                                            height: '100%', \n                                            objectFit: 'cover',\n                                            borderRadius: '4px',\n                                            border: '1px solid #ddd'\n                                          }}\n                                        />\n                                      ) : (\n                                        <div style={{\n                                          width: '100%',\n                                          height: '100%',\n                                          backgroundColor: '#f0f0f0',\n                                          borderRadius: '4px',\n                                          border: '1px solid #ddd',\n                                          display: 'flex',\n                                          alignItems: 'center',\n                                          justifyContent: 'center',\n                                          fontSize: '12px',\n                                          color: '#666'\n                                        }}>\n                                          Loading...\n                                        </div>\n                                      )}\n                                      <button\n                                        onClick={(e) => {\n                                          e.preventDefault();\n                                          e.stopPropagation();\n                                          const newImageIds = imageIds.filter(id => id !== imageId);\n                                          handleInputChange(key, newImageIds);\n                                        }}\n                                        type=\"button\"\n                                        style={{\n                                          position: 'absolute',\n                                          top: '2px',\n                                          right: '2px',\n                                          width: '18px',\n                                          height: '18px',\n                                          padding: '0',\n                                          margin: '0',\n                                          border: '1px solid white',\n                                          borderRadius: '50%',\n                                          backgroundColor: '#dc3545',\n                                          color: 'white',\n                                          fontSize: '12px',\n                                          fontWeight: 'bold',\n                                          lineHeight: '16px',\n                                          display: 'flex',\n                                          alignItems: 'center',\n                                          justifyContent: 'center',\n                                          cursor: 'pointer',\n                                          boxShadow: '0 1px 3px rgba(0,0,0,0.3)',\n                                          zIndex: '10'\n                                        }}\n                                        onMouseEnter={(e) => {\n                                          e.target.style.backgroundColor = '#c82333';\n                                        }}\n                                        onMouseLeave={(e) => {\n                                          e.target.style.backgroundColor = '#dc3545';\n                                        }}\n                                      >\n                                        ×\n                                      </button>\n                                    </div>\n                                  );\n                                })}\n                              </div>\n                            )}\n                            \n                            <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\n                              <Button \n                                onClick={open}\n                                variant=\"secondary\"\n                              >\n                                {imageIds.length > 0 ? 'Edit Gallery' : 'Select Images'}\n                              </Button>\n                              \n                              {imageIds.length > 0 && (\n                                <Button \n                                  onClick={() => handleInputChange(key, [])}\n                                  variant=\"secondary\"\n                                  isDestructive={true}\n                                >\n                                  Clear All Images\n                                </Button>\n                              )}\n                            </div>\n                          </div>\n                        )}\n                      />\n                    </MediaUploadCheck>\n                  </div>\n                );\n              case 'image':\n                const singleImageId = props.attributes[key] || '';\n\n                // Fetch image data for single image\n                useEffect(() => {\n                  if (singleImageId) {\n                    fetchImageData([parseInt(singleImageId, 10)]);\n                  }\n                }, [singleImageId]);\n\n                const singleImgData = singleImageId ? imageDataCache[parseInt(singleImageId, 10)] : null;\n\n                return (\n                  <div key={key}>\n                    <label style={{ display: 'block', marginBottom: '4px' }}>{label}</label>\n                    {explanation}\n\n                    <MediaUploadCheck>\n                      <MediaUpload\n                        onSelect={(media) => {\n                          handleInputChange(key, String(media.id));\n                        }}\n                        allowedTypes={['image']}\n                        multiple={false}\n                        gallery={false}\n                        value={singleImageId ? parseInt(singleImageId, 10) : undefined}\n                        render={({ open }) => (\n                          <div>\n                            {singleImageId && (\n                              <div style={{\n                                position: 'relative',\n                                width: '120px',\n                                height: '120px',\n                                marginBottom: '10px'\n                              }}>\n                                {singleImgData?.url ? (\n                                  <img\n                                    src={singleImgData.url}\n                                    alt={singleImgData.alt}\n                                    style={{\n                                      width: '100%',\n                                      height: '100%',\n                                      objectFit: 'cover',\n                                      borderRadius: '4px',\n                                      border: '1px solid #ddd'\n                                    }}\n                                  />\n                                ) : (\n                                  <div style={{\n                                    width: '100%',\n                                    height: '100%',\n                                    backgroundColor: '#f0f0f0',\n                                    borderRadius: '4px',\n                                    border: '1px solid #ddd',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    fontSize: '12px',\n                                    color: '#666'\n                                  }}>\n                                    Loading...\n                                  </div>\n                                )}\n                                <button\n                                  onClick={(e) => {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    handleInputChange(key, '');\n                                  }}\n                                  type=\"button\"\n                                  style={{\n                                    position: 'absolute',\n                                    top: '2px',\n                                    right: '2px',\n                                    width: '18px',\n                                    height: '18px',\n                                    padding: '0',\n                                    margin: '0',\n                                    border: '1px solid white',\n                                    borderRadius: '50%',\n                                    backgroundColor: '#dc3545',\n                                    color: 'white',\n                                    fontSize: '12px',\n                                    fontWeight: 'bold',\n                                    lineHeight: '16px',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    cursor: 'pointer',\n                                    boxShadow: '0 1px 3px rgba(0,0,0,0.3)',\n                                    zIndex: '10'\n                                  }}\n                                  onMouseEnter={(e) => {\n                                    e.target.style.backgroundColor = '#c82333';\n                                  }}\n                                  onMouseLeave={(e) => {\n                                    e.target.style.backgroundColor = '#dc3545';\n                                  }}\n                                >\n                                  ×\n                                </button>\n                              </div>\n                            )}\n\n                            <Button\n                              onClick={open}\n                              variant=\"secondary\"\n                            >\n                              {singleImageId ? 'Change Image' : 'Select Image'}\n                            </Button>\n                          </div>\n                        )}\n                      />\n                    </MediaUploadCheck>\n                  </div>\n                );\n              default:\n                return null;\n            }\n          });\n        };\n\n        return (\n          <>\n            <InspectorControls>\n              <PanelBody title={block.title + ' Settings'} initialOpen={true}>\n                {renderInputs()}\n              </PanelBody>\n            </InspectorControls>\n\n            <div className={props.className}>\n              {Object.keys(errorMessages).map((key) => (\n                <p key={key} style={{ color: 'red' }}>{errorMessages[key]}</p>\n              ))}\n              <div dangerouslySetInnerHTML={{ __html: content }} />\n            </div>\n          </>\n        );\n      },\n      save: function (props) {\n        // Prevent save if the block instance is invalid\n        if (!props.attributes.isValid) {\n          return null;\n        }\n        return null; // Server-side rendering, so no save needed\n      },\n    });\n  });\n}"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_createForOfIteratorHelper","Array","isArray","_unsupportedIterableToArray","_n","F","s","next","asyncGeneratorStep","Promise","resolve","then","_slicedToArray","_arrayWithHoles","push","_iterableToArrayLimit","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","from","test","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_typeof","toPrimitive","String","_toPrimitive","registerBlockType","wp","blocks","InspectorControls","blockEditor","editor","_wp$components","components","PanelBody","TextControl","ToggleControl","RangeControl","SelectControl","TextareaControl","ColorPicker","Button","_wp$element","element","useEffect","useState","apiFetch","RichText","_wp$blockEditor","MediaUpload","MediaUploadCheck","ewp_blocks","key","block","namespace","concat","console","log","attributes","title","icon","category","isValid","type","default","edit","props","setAttributes","initialValues","reduce","acc","attrKey","attribute","_useState2","content","setContent","_useState4","inputValues","setInputValues","_useState6","errorMessages","setErrorMessages","_useState8","imageDataCache","setImageDataCache","handleInputChange","identifier","newValue","validateField","_block$attributes$ide","required","prevErrors","label","hasOwnProperty","indexOf","_objectWithoutPropertiesLoose","propertyIsEnumerable","_objectWithoutProperties","map","fetchImageData","_ref2","_callee","imageIds","newImageData","_iterator","_step","imageId","_response$media_detai","response","_t","_t2","_context","path","url","media_details","sizes","thumbnail","source_url","alt","alt_text","warn","prev","_next","_throw","_x","queryParams","URLSearchParams","html","event","CustomEvent","detail","document","dispatchEvent","JSON","stringify","getNumberSetting","attributeData","settingKey","defaultValue","directValue","nestedValue","rawValue","parsed","Number","isFinite","React","createElement","Fragment","initialOpen","entries","_ref3","_props$attributes$key","_ref4","data","explanation","style","display","marginTop","marginBottom","letterSpacing","color","lineHeight","render_type","onChangeComplete","hex","disableAlpha","wp_editor","tagName","onChange","placeholder","border","padding","borderRadius","backgroundColor","minHeight","checked","min","max","step","selectOptions","options","opt","option","galleryImages","join","onSelect","media","newImageIds","item","id","allowedTypes","multiple","gallery","render","_ref5","open","gridTemplateColumns","gap","index","imgData","position","width","height","src","objectFit","alignItems","justifyContent","fontSize","onClick","preventDefault","stopPropagation","top","right","margin","fontWeight","cursor","boxShadow","zIndex","onMouseEnter","target","onMouseLeave","flexWrap","variant","isDestructive","singleImageId","parseInt","singleImgData","undefined","_ref6","className","dangerouslySetInnerHTML","__html","save"],"sourceRoot":""}